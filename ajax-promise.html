<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AJAX</title>
  </head>
  <body>

    <div id="players">

    <div>

    <script src="scripts/jquery-3.1.1.min.js"></script>
    <script>
    $(document).ready(function() {
      var players = [];

      var playersSuccessCb = function(players) {
        players = players;
        for (var i=0; i<players.length; i++) {
          $('#players').append('<div>' + players[i].name + '</div>');
        }
        return promise2;
      };

      var clubsSuccessCb = function(clubs) {
        console.log(clubs);
      }

      var promise1 = $.get('data/players.json');
      var promise2 = $.get('data/clubs.json');
      var promise3 = $.get('http://localhost:5000/test');

      promise1.then(playersSuccessCb).then(clubsSuccessCb);

      promise3.then(function() {
        console.log('ok');
      });
    });

    </script>
  </body>
</html>
